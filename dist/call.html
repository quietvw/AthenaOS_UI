{% extends "base.html" %}


{% block content %}
<!-- Call Interface -->
<div class="flex flex-grow p-4 justify-center items-center">
    <div class="w-full max-w-5xl grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
        <!-- Assistant Image on the Left -->
        <div class="flex justify-center">
            <img src="/static/assistant_smile.png" alt="Assistant Image" class="w-64 h-64 rounded-full">
        </div>

        <!-- Call Info and Button on the Right -->
        <div class="bg-black bg-opacity-60 p-6 rounded-lg shadow-lg text-center text-white flex flex-col items-center">
            <!-- Call Time -->
            <div class="text-3xl font-bold mb-6">
                Call in Progress <br> <span id="callTime" class="text-xl">00:00:00</span>
            </div>

   <!-- Buttons Side-by-Side -->
<div class="flex space-x-4">
    <!-- Mute Button -->
    <a href="/" class="bg-yellow-500 text-white px-6 py-2 rounded shadow hover:bg-yellow-600 flex items-center space-x-2">
        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <line x1="1" y1="1" x2="23" y2="23"></line>
            <path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path>
            <path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path>
            <line x1="12" y1="19" x2="12" y2="23"></line>
            <line x1="8" y1="23" x2="16" y2="23"></line>
        </svg>
        <span>Mute</span>
    </a>

    <!-- End Call Button -->
    <a href="/home" class="bg-red-500 text-white px-6 py-2 rounded shadow hover:bg-red-600 flex items-center space-x-2">
        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"/>
            <line x1="23" y1="1" x2="1" y2="23"/>
        </svg>
        <span>End Call</span>
    </a>
</div>

        </div>
    </div>
</div>
<script>
    let seconds = 0;
    
    function formatTime(sec) {
      const hrs = String(Math.floor(sec / 3600)).padStart(2, '0');
      const mins = String(Math.floor((sec % 3600) / 60)).padStart(2, '0');
      const secs = String(sec % 60).padStart(2, '0');
      return `${hrs}:${mins}:${secs}`;
    }
    
    function startCallTimer() {
      setInterval(() => {
        seconds++;
        document.getElementById("callTime").textContent = formatTime(seconds);
      }, 1000);
    }
    
    document.addEventListener("DOMContentLoaded", startCallTimer);
    </script>
    
{% endblock %}